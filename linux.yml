- name: Setup linux environment
  hosts: localhost
  connection: local

  pre_tasks:
  - name: Update apt
    become: true
    apt:
      force_apt_get: true
      update_cache: true
      state: present

  tags:
    - install
    - configure

  tasks:
  - name: Install essential linux packages
    become: true
    apt:
      name: "{{ item }}"
    with_items:
      - build-essential
      - curl
      - wget
      - stow
      - git
      - zsh
      - vim
    tags:
      - install
      - linux

  - import_tasks: tasks/zsh.yml
  - import_tasks: tasks/vim.yml
  - import_tasks: tasks/go.yml
  - import_tasks: tasks/dotfiles.yml
